<input
  (input)="onInput($event.target['value'])"
  [disabled]="isDisabled"
  ctrlInput
>
<button
  (blur)="isFieldFocused && onBlur()"
  (click)="isFocused ? close($event) : onFocus()"
  (focus)="isFieldFocused && onFocus()"
  [disabled]="isDisabled"
  class="field-suffix corner"
  tabindex="-1"
>
  <ctrl-icon [icon]="iconChevronDown"></ctrl-icon>
</button>
<button
  (blur)="isFieldFocused && onBlur()"
  (click)="clear()"
  (focus)="isFieldFocused && onFocus()"
  [disabled]="isDisabled"
  class="field-suffix clear"
  tabindex="-1"
>
  <ctrl-icon [icon]="iconClose"></ctrl-icon>
</button>
<div *ngIf="hasDropdown" class="field-dropdown">
  <button
    (blur)="onBlur()"
    (click)="select(item, $event.target)"
    (focus)="onFocus()"
    (mouseenter)="activeItemIndex = index"
    *ngFor="let item of filtered; let index = index"
    [class.active]="activeItemIndex === index"
    tabindex="-1"
    type="button"
  >
    {{item.text}}
  </button>
</div>
