<input
  [disabled]="isDisabled"
  ctrlInput
>
<button
  (blur)="focused.value && onBlur()"
  (click)="isFocused ? close($event) : onFocus()"
  (focus)="focused.value && onFocus()"
  class="field-suffix corner"
  tabindex="-1"
>
  <ctrl-icon [icon]="iconChevronDown"></ctrl-icon>
</button>
<button
  (blur)="focused.value && onBlur()"
  (click)="clear()"
  (focus)="focused.value && onFocus()"
  class="field-suffix clear"
  tabindex="-1"
>
  <ctrl-icon [icon]="iconClose"></ctrl-icon>
</button>
<div *ngIf="hasDropdown" class="field-dropdown">
  <button
    (blur)="onBlur()"
    (click)="select(item, $event.target)"
    (focus)="focusIndex = index; onFocus()"
    *ngFor="let item of filtered; let index = index"
    [class.focused]="focusIndex === index"
    tabindex="-1"
    type="button"
  >
    {{item.text}}
  </button>
</div>
